# HG changeset patch
# User ceisserer
# Date 1217866603 -7200
# Node ID cf291c1144545d190c719d31a709cf32968ade59
# Parent  f757686901c7e70f76bfa4860ea2e0c16d7e7252
Summary: Added some comments

diff -r f757686901c7 -r cf291c114454 make/sun/awt/mapfile-mawt-vers
--- openjdk/jdk/make/sun/awt/mapfile-mawt-vers	Sat Aug 02 21:14:19 2008 +0200
+++ openjdk/jdk/make/sun/awt/mapfile-mawt-vers	Mon Aug 04 18:16:43 2008 +0200
@@ -445,7 +445,6 @@
         	Java_sun_java2d_xr_XRRenderer_devCopyArea;
 		Java_sun_java2d_xr_XRMaskFill_maskFill;
 		Java_sun_java2d_xr_XRMaskBlit_maskBlit;
-		XRT_DrawGlyphList;
 
                 Java_sun_java2d_opengl_OGLMaskFill_maskFill;
                 Java_sun_java2d_opengl_OGLRenderer_drawPoly;
@@ -541,6 +540,7 @@
                 AWTCharAscent;
                 AWTCharDescent;
                 AWTDrawGlyphList;
+		XRT_DrawGlyphList;
 
 	local:
 		*;
diff -r f757686901c7 -r cf291c114454 make/sun/awt/mapfile-vers-linux
--- openjdk/jdk/make/sun/awt/mapfile-vers-linux	Sat Aug 02 21:14:19 2008 +0200
+++ openjdk/jdk/make/sun/awt/mapfile-vers-linux	Mon Aug 04 18:16:43 2008 +0200
@@ -568,6 +568,7 @@
                 AWTCharAscent;
                 AWTCharDescent;
                 AWTDrawGlyphList;
+		XRT_DrawGlyphList;
 
 	local:
 		*;
diff -r f757686901c7 -r cf291c114454 make/sun/headless/mapfile-vers
--- openjdk/jdk/make/sun/headless/mapfile-vers	Sat Aug 02 21:14:19 2008 +0200
+++ openjdk/jdk/make/sun/headless/mapfile-vers	Mon Aug 04 18:16:43 2008 +0200
@@ -57,8 +57,6 @@
                 Java_sun_java2d_x11_X11SurfaceData_XSetXorMode;
                 Java_sun_java2d_x11_X11SurfaceData_XSetForeground;
 
-		XRT_DrawGlyphList;
-
 		X11SurfaceData_GetOps;
 		Java_java_awt_Font_initIDs;
                 Java_sun_font_FontManager_getFontConfig;
@@ -100,6 +98,7 @@
                 AWTCharAscent;
                 AWTCharDescent;
                 AWTDrawGlyphList;
+		XRT_DrawGlyphList;
 
 
 	local:
diff -r f757686901c7 -r cf291c114454 src/solaris/native/sun/java2d/x11/XRPMBlitLoops.c
--- openjdk/jdk/src/solaris/native/sun/java2d/x11/XRPMBlitLoops.c	Sat Aug 02 21:14:19 2008 +0200
+++ openjdk/jdk/src/solaris/native/sun/java2d/x11/XRPMBlitLoops.c	Mon Aug 04 18:16:43 2008 +0200
@@ -67,6 +67,9 @@
 
 
 #ifndef HEADLESS
+/**
+ * Prepares a mask-picture according to the mask and the properties currently set, which is used for composition later.
+ */
 static Picture prepareMaskPM(JNIEnv *env, jbyteArray maskArray, jint maskoff, jint maskscan, jint w, jint h)
 {
     int line, pix;
@@ -107,6 +110,7 @@
             }
           }
 
+          /*Upload Image to X-Server*/
           XPutImage(awt_display, maskBuffer->maskPixmap, maskBuffer->maskGC, img, 0, 0, 0, 0, w, h);
           (*env)->ReleasePrimitiveArrayCritical(env, maskArray, mask, JNI_ABORT);
 
@@ -124,6 +128,7 @@
         }
     }else
     {
+      /*If we haven't got a mask (full coverage), we have to return the EA mask, if EA is used*/
       if(useEA) {
         return xrSrcData.alphaMask;
       }
